<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<script src="jquery-3.2.1.min.js"></script>
<script>
         //    假设当前页是3
    function page(currentPage, pageList,  visiblePage ) {
        visiblePage=2;

        //循环所有页列表
        var pageList = [{'id': 1}, {'id': 2}, {'id': 3}, {'id': 4}, {'id': 5}, {'id': 6}, {'id': 7}]
       // console.log(pageList.length);    //7
        var pageKey = 0;
        $.each(pageList, function (key, val) {
            if (val.id == currentPage) {
                pageKey = key;
               // console.log(pageKey);    //2
            }
        });

        //获取前两页 <--> 后两页
        var left = new Array();
        var right = new Array();
        for (var i = 0; i < visiblePage; i++) {

            var a = pageKey - i - 1;     //a = 1

            //前找后
            if (a < 0) {
                //获取最后坐标???
//                end(pageList);
//                var newKey = pageList - (a + 1);
//                left.push(newKey)

            } else {
                left.reverse(left.push(a));
                console.log(left);      //0,1
            }

            var b = pageKey + i + 1;    //b = 4

            //后找前
            if (b > (pageList.lenght - 1)) {
                //获取前面坐标???
//                newKey = b - pageList.lenght - 1;
//                right.push(newKey)
            } else {
                right.push(b)
                console.log(right);     //3,4
            }
        }
         // 5页数=左两位+当前+右两位
        var showPage=left+","+pageKey+","+right;
        console.log(showPage);    //0,1,2,3,4
    }

    page(3);
    //currentPage=$(".z-current").find(".m-img").attr("id").substring(4);             //4

    //    根据页面id渲染页面，其他页移除

    //    下一页时下面添加一页，上面移除一页
</script>
</body>
</html>